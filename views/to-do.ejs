<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A Newsletter Signup page">

    <title>To-do</title>

    <!-- bootstrap stylesheets -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">     -->
    
    <!-- Favicons -->
    <link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon">
    
    <!-- fontawesome -->
    <script src="https://kit.fontawesome.com/675cd5c11c.js" crossorigin="anonymous"></script>

    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="/css/to-do.css">

</head>
<body>
    

    <div class="box" id="heading">
        <a href="/weather"><i class="option-icon fa-solid fa-cloud-sun-rain"></i></a>
        
        <!-- <i class="option-icon fa-solid fa-bars" onclick="dropdownList(this)"></i> -->
        <h1><%= listTitle %> </h1>
    </div>

    <div class="box">

        <% listItems.forEach(item => { %>
            <form action="/delete" method="post">
                <div class="item" onmouseover="showDelete(this)" onmouseout="hideDelete(this)">
                    <input type="checkbox">
                    <p> <%= item.name %></p>
                    <input type="hidden" name="title" value="<%=listTitle%>">
                    <button type="submit" name="delete" value="<%=item._id%>"><i class="fa-regular fa-trash-can"></i></button>
                </div> 
            </form> 

        <% }) %>

        <form class="item" action="/to-do" method="post">
            <input type="text" name="newItem"  placeholder="New item" autocomplete="off">
            <button type="submit" name="title" value="<%= listTitle %>">+</button>
        </form>
        
    </div>

    
<!-- js script -->
    <script>
        function showDelete(element) {
            lastChild = element.lastElementChild;

            lastChild.style.display = "block";


            // setTimeout(() => {
            // }, 200);
        }

        function hideDelete(element) {
            lastChild = element.lastElementChild;

            lastChild.style.display = "none";
            
        }
    </script>

</body>
<footer>
    &copy; hak_raj 2023
</footer>
</html>